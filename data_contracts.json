{
  "contracts": {
    "StrategicKeywordData": {
      "description": "Anahtar kelime hazırlama adımının standart çıktısı (Rapor 1.3).",
      "type": "object",
      "properties": {
        "coreKeywords": {
          "type": "array",
          "items": {"type": "string"}
        },
        "longTailKeywords": {
          "type": "array",
          "items": {"type": "string"}
        },
        "metrics": {
          "type": "object",
          "properties": {
            "totalSearchVolume": {"type": "integer", "minimum": 0},
            "competitorDensity": {"type": "number", "minimum": 0, "maximum": 1}
          },
          "required": ["totalSearchVolume", "competitorDensity"]
        }
      },
      "required": ["coreKeywords", "longTailKeywords", "metrics"]
    },
    "MarketIntelligenceData": {
      "description": "Pazar istihbaratı modülünün standart çıktısı (Rapor 2.1).",
      "type": "object",
      "properties": {
        "topCompetitorTags": {
          "type": "array",
          "items": {"type": "string"}
        },
        "priceRange": {
          "type": "object",
          "properties": {
            "avg": {"type": "number"}
          },
          "required": ["avg"]
        }
      },
      "required": ["topCompetitorTags", "priceRange"]
    },
    "VoiceOfCustomerInsights": {
        "description": "Müşteri yorumu analizi çıktısı (Rapor 2.2).",
        "type": "object",
        "properties": {
            "positiveThemes": {"type": "array", "items": {"type": "string"}},
            "negativeThemes": {"type": "array", "items": {"type": "string"}},
            "benefitDrivenPhrases": {"type": "array", "items": {"type": "string"}}
        },
        "required": ["positiveThemes", "negativeThemes", "benefitDrivenPhrases"]
    },
    "StrategicPackagingData": {
        "description": "Listeleme Nitelikleri ve Etsy Ads Stratejisi çıktıları.",
        "type": "object",
        "properties": {
            "attributes": {
                "type": "object",
                "description": "Seçilen Etsy Nitelikleri (Renk, Materyal, Stil vb.)"
            },
            "ads_strategy": {
                "type": "object",
                "properties": {
                    "positive_priority_keywords": {"type": "array", "items": {"type": "string"}},
                    "negative_keywords": {"type": "array", "items": {"type": "string"}}
                },
                "required": ["positive_priority_keywords", "negative_keywords"]
            }
        },
        "required": ["attributes", "ads_strategy"]
    },
    "CsvIngestorOutput": {
        "description": "Defines the structure for the output of the CsvIngestor module.",
        "type": "object",
        "properties": {
            "status": { "type": "string", "enum": ["success", "error"] },
            "message": { "type": "string" },
            "data": {
                "type": ["array", "null"],
                "items": { "type": "object" }
            }
        },
        "required": ["status", "message", "data"]
    },
    "MarketAnalysisOutput": {
        "description": "Pazar analizi modülünün çıktısını tanımlar.",
        "type": "object",
        "properties": {
            "popular_listings_analysis": {
                "type": "object",
                "properties": {
                    "top_keywords": { "type": "array", "items": { "type": "string" } },
                    "average_price": { "type": "number" },
                    "average_views": { "type": "number" }
                },
                "required": ["top_keywords", "average_price", "average_views"]
            },
            "competitor_analysis": {
                "type": "object",
                "properties": {
                    "top_competitors_by_sales": { "type": "array", "items": { "type": "string" } },
                    "common_tags": { "type": "array", "items": { "type": "string" } }
                },
                "required": ["top_competitors_by_sales", "common_tags"]
            },
            "market_insights": {
                "type": "object",
                "properties": {
                    "niche_opportunities": { "type": "array", "items": { "type": "string" } },
                    "pricing_summary": {
                        "type": "object",
                        "properties": {
                            "min": { "type": "number" },
                            "max": { "type": "number" },
                            "mean": { "type": "number" },
                            "median": { "type": "number" }
                        },
                        "required": ["min", "max", "mean", "median"]
                    }
                },
                "required": ["niche_opportunities", "pricing_summary"]
            }
        },
        "required": ["popular_listings_analysis", "competitor_analysis", "market_insights"]
    }
  }
}