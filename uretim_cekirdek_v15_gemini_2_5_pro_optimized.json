{
    "bk": {
        "rolling": []
    },
    "m": {
        "f": {
            "auto_backup": true,
            "drift_alarm": true,
            "immutable_core": true
        },
        "pv": 1
    },
    "p": {
        "av": "timestamped",
        "seed": 1337,
        "f_f_ow": true,
        "f_s_d": true,
        "no_m_d": true,
        "req_chg": true,
        "timezone": "Europe/Istanbul"
    },
    "r": {
        "d_no_s": true,
        "d_req_p": "hard",
        "no_s_s": true,
        "res_only": true,
        "stop_err": true,
        "strict_o": true
    },
    "adm": {
        "unlock": {
            "app_at": "2025-09-09T18:09:16.385761Z",
            "rat": "SEO rules, Ads optimization and A/B testing revamp per references (Etsy Ads, Alura metrics, SEO guide).",
            "req_steps": [
                "10",
                "11",
                "14",
                "15"
            ],
            "status": "approved"
        }
    },
    "bs": {
        "on_l": {
            "b_txt": "Welcome back ğŸ‘‹\n- Required user checkpoints: Step 0 (Product Info), Media Upload, CSV uploads (3/4/6), Record Type decision (16).\n- CSV schemas are defined under /_policy/csv_ingest/* (strict headers).\n- Current mode: preview (learning mode). Export (Step 17) is ENABLED.\n- Resume point â†’ last: 16, next: 18. Use checkpoints at 16 & 18 to review/fix.\n",
            "s_ban": true
        },
        "flags": {
            "step17_enabled": true
        }
    },
    "cmd": {
        "allow": [
            "ONAY",
            "DÃœZELT",
            "YÃœKLE",
            "DEVAM",
            "DUR"
        ],
        "ds": {
            "DEVAM": "Bekleyen adÄ±mÄ± Ã§alÄ±ÅŸtÄ±rÄ±r, sonraki durakta durur.",
            "DUR": "KoÅŸuyu gÃ¼venli biÃ§imde durdurur (durum raporu verilir).",
            "DÃœZELT": "GÃ¶sterilen metni/detayÄ± belirtilen ÅŸekilde dÃ¼zeltir (run-time, JSON'a yazÄ±lmaz).",
            "ONAY": "GÃ¶sterilen adÄ±mÄ± bu haliyle onaylar ve bir sonrakine geÃ§er.",
            "YÃœKLE": "Ä°stenen dosyayÄ± yÃ¼kler (gÃ¶rseller/CSV vb., run-time)."
        }
    },
    "csv": {
        "competitor_csv": {
            "hdrs": {
                "$ref": "#/_defs/def_8e6c405a"
            },
            "pre": {
                "dedupe_on": [
                    "URL"
                ],
                "delimiter_probe": [
                    ",",
                    ";",
                    "\t",
                    "|"
                ],
                "drop_extras": false,
                "encoding": [
                    "utf-8",
                    "utf-8-sig",
                    "latin-1"
                ],
                "header_canonical": true,
                "o": {
                    "clean": "/runtime/csv/competitor_clean.csv",
                    "corrected": "/runtime/csv/competitor_corrected.csv",
                    "log": "/runtime/reports/competitor_prepare"
                },
                "semantic_soft_repair": {
                    "Shop": {
                        "must_contain_alpha": true
                    },
                    "Title": {
                        "must_contain_alpha": true
                    },
                    "URL": {
                        "must_contain_http": true
                    }
                }
            },
            "req": [
                "Title",
                "URL",
                "Shop"
            ],
            "expected_headers_strict": false,
            "preprocess_overrides": {
                "Keyword": {
                    "forbid_all_numeric": false
                }
            }
        },
        "popular_listings": {
            "hdrs": {
                "$ref": "#/_defs/def_af3da152"
            },
            "pre": {
                "dedupe_on": [
                    "URL"
                ],
                "delimiter_probe": [
                    ",",
                    ";",
                    "\t",
                    "|"
                ],
                "drop_extras": false,
                "encoding": [
                    "utf-8",
                    "utf-8-sig",
                    "latin-1"
                ],
                "header_canonical": true,
                "o": {
                    "clean": "/runtime/csv/top_listings_dar_clean.csv",
                    "corrected": "/runtime/csv/top_listings_dar_corrected.csv",
                    "log": "/runtime/reports/top_listings_prepare"
                },
                "semantic_soft_repair": {
                    "Title": {
                        "must_contain_alpha": true
                    },
                    "URL": {
                        "must_contain_http": true
                    }
                }
            },
            "req": [
                "Title",
                "URL",
                "Shop"
            ],
            "expected_headers_strict": false,
            "preprocess_overrides": {
                "Keyword": {
                    "forbid_all_numeric": false
                }
            }
        },
        "similar_keywords": {
            "hdrs": {
                "$ref": "#/_defs/def_d1bfff13"
            },
            "pre": {
                "dedupe_on": [
                    "Keyword"
                ],
                "delimiter_probe": [
                    ",",
                    ";",
                    "\t",
                    "|"
                ],
                "drop_extras": false,
                "encoding": [
                    "utf-8",
                    "utf-8-sig",
                    "latin-1"
                ],
                "header_canonical": true,
                "o": {
                    "clean": "/runtime/csv/similar_keywords_clean.csv",
                    "corrected": "/runtime/csv/similar_keywords_corrected_merged.csv",
                    "log": "/runtime/reports/similar_prepare"
                },
                "semantic_soft_repair": {
                    "3mo. change": {
                        "percent_like": true
                    },
                    "Keyword": {
                        "forbid_all_numeric": true,
                        "must_contain_alpha": true,
                        "repair_from": [
                            "Competition level",
                            "Etsy tag"
                        ]
                    },
                    "Listing age": {
                        "days_like": true
                    },
                    "Long-tail keyword": {
                        "enum_like": [
                            "Yes",
                            "No"
                        ]
                    },
                    "Search volume": {
                        "number_like": true
                    }
                }
            },
            "req": [
                "Keyword"
            ],
            "expected_headers_strict": false,
            "preprocess_overrides": {
                "Keyword": {
                    "forbid_all_numeric": false
                }
            }
        },
        "top_listings_csv": {},
        "competitor_shops_csv": {},
        "similar_keywords_csv": {},
        "similar_keywords_v2": {
            "id": "similar_keywords_v2",
            "parse": {
                "$ref": "#/_defs/def_3183d32d"
            },
            "pre": {
                "$ref": "#/_defs/def_77c89c3a"
            },
            "hdrs": {
                "$ref": "#/_defs/def_d1bfff13"
            },
            "header_aliases": {
                "$ref": "#/_defs/def_fe8992e9"
            },
            "preprocess_overrides": {
                "Keyword": {
                    "forbid_all_numeric": true
                }
            },
            "v": {
                "required_columns_any_of": [
                    [
                        "Keyword"
                    ]
                ],
                "row_length_equals_header": {
                    "on_f": "halt",
                    "report_first_n": 50
                },
                "keyword_has_letters_min_ratio": {
                    "min_ratio": 0.2,
                    "sample_n": 1000,
                    "on_f": "halt",
                    "explain": "Harf iÃ§eren Keyword oranÄ± Ã§ok dÃ¼ÅŸÃ¼k; veri muhtemelen ID/kod iÃ§eriyor."
                }
            },
            "o": {
                "frame_name": "similar_keywords_norm_v2",
                "canonical_headers": {
                    "$ref": "#/_defs/def_d1bfff13"
                }
            }
        },
        "similar_keywords_strict": {
            "id": "similar_keywords_strict",
            "parse": {
                "$ref": "#/_defs/def_3183d32d"
            },
            "pre": {
                "$ref": "#/_defs/def_77c89c3a"
            },
            "hdrs": {
                "$ref": "#/_defs/def_d1bfff13"
            },
            "header_aliases": {
                "$ref": "#/_defs/def_fe8992e9"
            },
            "v": {
                "required_columns_any_of": [
                    [
                        "Keyword"
                    ]
                ],
                "row_length_equals_header": {
                    "on_f": "halt",
                    "report_first_n": 50
                }
            },
            "o": {
                "frame_name": "similar_keywords_norm"
            }
        },
        "top_listings_title_first_v1": {
            "id": "top_listings_title_first_v1",
            "parse": {
                "$ref": "#/_defs/def_c68cdea9"
            },
            "pre": {
                "$ref": "#/_defs/def_77c89c3a"
            },
            "hdrs": {
                "$ref": "#/_defs/def_af3da152"
            },
            "v": {
                "$ref": "#/_defs/def_c92d0b46"
            },
            "o": {
                "frame_name": "top_listings_norm"
            }
        },
        "listings_title_first_v1": {
            "id": "listings_title_first_v1",
            "parse": {
                "$ref": "#/_defs/def_c68cdea9"
            },
            "pre": {
                "$ref": "#/_defs/def_77c89c3a"
            },
            "hdrs": {
                "$ref": "#/_defs/def_8e6c405a"
            },
            "v": {
                "$ref": "#/_defs/def_c92d0b46"
            },
            "o": {
                "frame_name": "listings_norm"
            }
        }
    },
    "exp": {
        "cols": [
            "record_id",
            "op_type",
            "is_deleted",
            "product.title",
            "product.description",
            "product.tags",
            "pricing.price_value",
            "pricing.price_currency",
            "image_1",
            "image_2",
            "image_3",
            "image_4",
            "image_5"
        ],
        "fail_on_missing": true,
        "format": "csv"
    },
    "fs": {
        "cr_at": "2025-09-08 08:06:53",
        "diff_j": {
            "en": true,
            "pattern": "PATCH_%Y%m%d_%H%M%S.diff.json"
        },
        "rt_p": {
            "recovery_file": "RECOVERY.txt",
            "run_state_file": "RUN_STATE.json"
        },
        "schema_v": {
            "en": true,
            "fail_on_invalid": true,
            "schema_ref": "internal://schemas/finalset.schema.json"
        },
        "lock": "62a2a41add954df2619f9a675112566ae1d12b1edefe36b431d1d5b711f79cfd",
        "sot": "FINALSET__RESULT_ONLY__20250907_161225__CLEANED.json",
        "ver": {
            "en": true,
            "pattern": "FINALSET__%Y%m%d_%H%M__v{N}__{sha12}.json"
        },
        "w_mode": {
            "req_ua": true,
            "typ": "copy_only"
        }
    },
    "h": {
        "admin": {
            "restore_flow": [
                "Ã–nce /_policy/audit/steps_snapshots listesinden snapshot id seÃ§.",
                "Talimat ver: 'restore steps from <snapshot_id>' â€” ben steps + manifest'i o fotoÄŸrafa geri alÄ±rÄ±m.",
                "Geri alma da audit'e iÅŸlenir."
            ],
            "unlock_flow": [
                "JSON'a ÅŸu alanÄ± doldur: /_admin/unlock_request = {status:'request', requested_steps:['<id>','...'], rationale:'neden'}",
                "Ben onaylayÄ±nca ilgili /workflow_patches/steps_locks/<id>/locked=false yapÄ±lÄ±r.",
                "DÃ¼zenleme bittiÄŸinde yeniden lock=true yapÄ±lÄ±r."
            ]
        },
        "assets": {
            "visual_examples": {
                "chk": [
                    "Min 5 gÃ¶rsel (studio,lifestyle,scale,detail,packaging)",
                    "BOM yok; EXIF zorunlu deÄŸil; Ã§Ã¶zÃ¼nÃ¼rlÃ¼k â‰¥ 1500px",
                    "AÅŸÄ±rÄ± watermark yok; yanÄ±ltÄ±cÄ± taÅŸ bilgisi yok"
                ],
                "file_naming": {
                    "pattern": "ring_<type>_<view>_<index>.jpg"
                },
                "guides": {
                    "detail": [
                        "YÃ¼zey dokusu (hammered/polish) yakÄ±n plan",
                        "Kenarlarda comfort-fit formu gÃ¶rÃ¼nmeli",
                        "Lehim/ek yerleri temizliÄŸi kontrol"
                    ],
                    "lifestyle": [
                        "Elde/parmakta kullanÄ±m; Ã¶lÃ§Ã¼ algÄ±sÄ±",
                        "GÃ¼nlÃ¼k Ä±ÅŸÄ±k; aÅŸÄ±rÄ± filtre yok",
                        "TakÄ± kombinasyonu (stacking) gÃ¶sterimi"
                    ],
                    "packaging": [
                        "Ã–zel kutu + hediye notu opsiyonu kadrajda",
                        "Kargo paket bÃ¼tÃ¼nlÃ¼ÄŸÃ¼ (yastÄ±klama)",
                        "MarkasÄ±z/markalÄ± gÃ¶rÃ¼nÃ¼m tercihi net"
                    ],
                    "scale": [
                        "Cetvel/halka Ã¶lÃ§er ile mm/mm gÃ¶sterimi",
                        "US size kartÄ± ile boyut referansÄ±",
                        "GeniÅŸlik ve kalÄ±nlÄ±k notu (metin katmanÄ±)"
                    ],
                    "studio": [
                        "DÃ¼z arka plan (tercihen aÃ§Ä±k, gÃ¶lge yumuÅŸak)",
                        "Ã–n-arka-yan aÃ§Ä±; parlama kontrolÃ¼",
                        "YÃ¼ksek Ã§Ã¶zÃ¼nÃ¼rlÃ¼k, net odak (ring/band yÃ¼zeyi)"
                    ]
                },
                "required_types": {
                    "$ref": "#/_defs/def_c45f607a"
                }
            }
        },
        "authoring": {
            "how_to_add": [
                "workshop.bulk_add.pending_names listesine isimleri ekle.",
                "Her isim iÃ§in kind (registry/step_kinds) seÃ§.",
                "status='ready' yap ve promote et (promotion.strategy=manual_confirm)."
            ],
            "how_to_promote": [
                "Promote onayÄ± ile backlog â†’ steps kopyalanÄ±r.",
                "enabled=false gelir; manifest'e ekleme opsiyoneldir.",
                "manifest'e eklersen yÃ¼rÃ¼tme sÄ±rasÄ±na girer."
            ],
            "safety": [
                "Learning/preview modunda export yine kapalÄ±.",
                "digest_only=true; publish akÄ±ÅŸÄ± etkilenmez."
            ]
        },
        "s": {
            "0": {
                "checks": [
                    "Eksik/kritik alan yok"
                ],
                "i": [
                    "/product_record",
                    "/shop_profile"
                ],
                "o": [
                    "KanÄ±tlanmÄ±ÅŸ Ã¼rÃ¼n/maÄŸaza profili"
                ],
                "usr_do": "ÃœrÃ¼n/maÄŸaza bilgilerini doÄŸrula (read-only).",
                "gemini_do": "Gemini, bu adÄ±mda `/product_record` ve `/shop_profile` altÄ±ndaki tÃ¼m verileri dikkatlice oku. Bu bilgiler, tÃ¼m iÅŸ akÄ±ÅŸÄ± boyunca tutarlÄ±lÄ±ÄŸÄ± saÄŸlamak iÃ§in referans alÄ±nacak temel doÄŸruluk kaynaÄŸÄ±dÄ±r. Ã–zellikle Ã¼rÃ¼n Ã¶zellikleri, fiyatlandÄ±rma ve maÄŸaza politikalarÄ± gibi kritik verileri hafÄ±zanda tut."
            },
            "16": {
                "checks": [
                    "All constraints pass; media Ã§eÅŸitliliÄŸi uyarÄ± olabilir"
                ],
                "i": [
                    "title/desc/tags + shop profile"
                ],
                "o": [
                    "listing.assembled (digest)"
                ],
                "usr_do": "Record Type seÃ§ â†’ publish/draft/preview.",
                "gemini_do": "Gemini, bu kritik adÄ±mda, kullanÄ±cÄ± tarafÄ±ndan seÃ§ilen kayÄ±t tÃ¼rÃ¼ne (`publish`, `draft`, veya `preview`) gÃ¶re son birleÅŸtirme iÅŸlemini yap. TÃ¼m Ã¶nceki adÄ±mlardan gelen verileri (baÅŸlÄ±k, aÃ§Ä±klama, etiketler, medya, vb.) bir araya getirerek `listing.assembled` adlÄ± bir digest oluÅŸtur. Bu sÃ¼reÃ§te, `/_policy/workflow_enforcement/rules/correction_checkpoints` altÄ±nda tanÄ±mlanan son kontrollere gÃ¶re 'soft' (engelleyici olmayan) uyumsuzluklarÄ± (Ã¶rneÄŸin, medya Ã§eÅŸitliliÄŸindeki eksiklikler) tespit et ve kullanÄ±cÄ±ya bir uyarÄ± olarak sun. Bu, yayÄ±nlama Ã¶ncesi son dÃ¼zeltme fÄ±rsatÄ±dÄ±r."
            },
            "17": {
                "checks": [
                    "Learning modeâ€™da guard ile kapalÄ±"
                ],
                "i": [
                    "record_type=publish"
                ],
                "o": [
                    "CSV/XLSX/JSON"
                ],
                "usr_do": "â€”",
                "gemini_do": "Export (publish gerekli)."
            },
            "18": {
                "checks": [
                    "checkpoint 18: fix-or-continue"
                ],
                "i": [
                    "assembled listing"
                ],
                "o": [
                    "pre-publish report"
                ],
                "usr_do": "Gerekirse dÃ¼zeltmeleri onayla.",
                "gemini_do": "Publish Ã¶ncesi kontrolleri Ã§alÄ±ÅŸtÄ±rÄ±r."
            },
            "1a": {
                "checks": [
                    "Min 5 tÃ¼r gÃ¶rsel; BOM yok, okunabilir"
                ],
                "i": [
                    "images/*"
                ],
                "o": [
                    "media.manifest"
                ],
                "usr_do": "GÃ¶rselleri yÃ¼kle.",
                "gemini_do": "Gemini, yÃ¼klenen tÃ¼m gÃ¶rselleri analiz et. Her bir gÃ¶rselin `/_help/assets/visual_examples/guides` altÄ±nda belirtilen stÃ¼dyo, lifestyle, Ã¶lÃ§ek, detay ve paketleme gibi kategorilere uygunluÄŸunu deÄŸerlendir. GÃ¶rsel kalite kontrolÃ¼ (QC) yaparken, Ã¶zellikle Ã§Ã¶zÃ¼nÃ¼rlÃ¼k, netlik, aydÄ±nlatma ve arkaplan temizliÄŸi gibi temel kriterleri gÃ¶z Ã¶nÃ¼nde bulundur. Eksik veya zayÄ±f olan gÃ¶rsel tÃ¼rlerini belirleyerek bir sonraki adÄ±mda (Ã¶neri oluÅŸturma) kullanÄ±lmak Ã¼zere not al."
            },
            "3": {
                "checks": [
                    "Header birebir; EOL LF/CRLF OK; BOM yok"
                ],
                "i": [
                    "/_policy/csv_ingest/similar_keywords"
                ],
                "o": [
                    "keywords.pool.ranked[]"
                ],
                "usr_do": "Similar Keywords CSVâ€™yi yÃ¼kle (strict header).",
                "gemini_do": "Gemini, yÃ¼klenen 'Similar Keywords' CSV dosyasÄ±nÄ± `/_policy/csv_ingest/similar_keywords` kurallarÄ±na gÃ¶re iÅŸle. 'Keyword' sÃ¼tununu temel alarak tÃ¼m satÄ±rlarÄ± tekilleÅŸtir (deduplication). Metin normalizasyonu (kÃ¼Ã§Ã¼k harfe Ã§evirme, boÅŸluklarÄ± temizleme) ve anlamsal temizlik (Ã¶rneÄŸin, tamamen sayÄ±sal olan anlamsÄ±z anahtar kelimeleri eleme) uygula. SonuÃ§ olarak, sÄ±ralanmÄ±ÅŸ ve temizlenmiÅŸ bir anahtar kelime havuzu (`keywords.pool.ranked[]`) oluÅŸtur."
            },
            "4": {
                "checks": [
                    "Money/% alan dÃ¶nÃ¼ÅŸÃ¼mÃ¼; header birebir"
                ],
                "i": [
                    "/_policy/csv_ingest/top_listings"
                ],
                "o": [
                    "toplistings.normalized"
                ],
                "usr_do": "Top Listings CSVâ€™yi yÃ¼kle.",
                "gemini_do": "Gemini, 'Top Listings' CSV dosyasÄ±nÄ± `/_policy/csv_ingest/top_listings` kurallarÄ±na gÃ¶re iÅŸle. Veri temizliÄŸi ve normalizasyonu uygula; Ã¶zellikle para birimi, yÃ¼zde ve sayÄ±sal alanlarÄ±n doÄŸru formatlandÄ±ÄŸÄ±ndan emin ol. SatÄ±rlarÄ± tekilleÅŸtirirken Ã¶ncelikli olarak 'URL' sÃ¼tununu kullan; eÄŸer 'URL' boÅŸ veya geÃ§ersiz ise 'Title' sÃ¼tununu fallback olarak kullan. Bu iÅŸlemle `toplistings.normalized` adlÄ± temiz bir veri Ã§erÃ§evesi oluÅŸtur."
            },
            "6": {
                "checks": [
                    "Shop numeric deÄŸil; header strict"
                ],
                "i": [
                    "/_policy/csv_ingest/competitor_listings"
                ],
                "o": [
                    "competitors.normalized"
                ],
                "usr_do": "Competitor Listings CSVâ€™yi yÃ¼kle.",
                "gemini_do": "Gemini, 'Competitor Listings' CSV'sini `/_policy/csv_ingest/competitor_listings` kurallarÄ±na gÃ¶re iÅŸle. 'Shop' sÃ¼tununun sayÄ±sal olmadÄ±ÄŸÄ±ndan emin ol. Veriyi 'ring' veya 'band' anahtar kelimelerini iÃ§erecek ÅŸekilde filtrele. SatÄ±rlarÄ± 'URL' bazÄ±nda tekilleÅŸtirerek `competitors.normalized` adlÄ± temiz bir veri Ã§erÃ§evesi oluÅŸtur. Bu veri, rakip analizinin temelini oluÅŸturacaktÄ±r."
            }
        }
    }
}