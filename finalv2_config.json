{
    "workflow_id": "final_end_to_end_v2",
    "description": "Orchestrates the full data processing pipeline, including CSV ingestion and analysis.",
    "steps": [
        {
            "id": "ingest_similar_keywords",
            "name": "Ingest Similar Keywords CSV",
            "module": "csv_ingestor.py",
            "rs": { "ruleset_name": "AlwaysRun" },
            "i": {
                "file_path": "Similar_keywords - 2025-08-10T113431.306.csv",
                "resolved_profile": { "$profile": "similar_keywords_v2" }
            },
            "o": {
                "contract": "CsvIngestorOutput",
                "context_key": "similar_keywords_data"
            },
            "meta": {
                "description": "Parses the Similar Keywords CSV file.",
                "author": "Jules",
                "version": "1.0",
                "last_updated": "2025-10-02T12:50:00Z"
            }
        },
        {
            "id": "ingest_top_listings",
            "name": "Ingest Top Listings CSV",
            "module": "csv_ingestor.py",
            "rs": { "ruleset_name": "AlwaysRun" },
            "i": {
                "file_path": "Top_listings (53).csv",
                "resolved_profile": { "$profile": "top_listings_title_first_v1" }
            },
            "o": {
                "contract": "CsvIngestorOutput",
                "context_key": "top_listings_data"
            },
            "meta": {
                "description": "Parses the Top Listings CSV file.",
                "author": "Jules",
                "version": "1.0",
                "last_updated": "2025-10-02T12:50:00Z"
            }
        },
        {
            "id": "ingest_general_listings",
            "name": "Ingest General Listings CSV",
            "module": "csv_ingestor.py",
            "rs": { "ruleset_name": "AlwaysRun" },
            "i": {
                "file_path": "Listings (31).csv",
                "resolved_profile": { "$profile": "listings_title_first_v1" }
            },
            "o": {
                "contract": "CsvIngestorOutput",
                "context_key": "general_listings_data"
            },
            "meta": {
                "description": "Parses the General Listings CSV file.",
                "author": "Jules",
                "version": "1.0",
                "last_updated": "2025-10-02T12:50:00Z"
            }
        },
        {
            "id": "analyze_market_data",
            "name": "Analyze Market Data",
            "module": "market_analyzer.py",
            "rs": { "ruleset_name": "AlwaysRun" },
            "i": {
                "popular_listings_data": { "$ref": "context.top_listings_data.data" },
                "competitor_listings_data": { "$ref": "context.general_listings_data.data" },
                "similar_keywords_data": { "$ref": "context.similar_keywords_data.data" }
            },
            "o": {
                "contract": "MarketAnalysisOutput",
                "context_key": "market_analysis_results"
            },
            "meta": {
                "description": "Performs a full market analysis based on the ingested CSV data.",
                "author": "Jules",
                "version": "1.0",
                "last_updated": "2025-10-02T13:03:00Z"
            }
        }
    ]
}